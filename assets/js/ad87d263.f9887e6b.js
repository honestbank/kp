"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[860],{7020:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"migration/migration","title":"Migration from v1","description":"Improper migration may cause your workload to re-consume messages from offset 0 - essentially re-processing all messages.","source":"@site/docs/migration/migration.md","sourceDirName":"migration","slug":"/migration/","permalink":"/kp/docs/migration/","draft":false,"unlisted":false,"editUrl":"https://github.com/honestbank/kp/edit/main/docs/docs/migration/migration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Contributing","permalink":"/kp/docs/contributing/"}}');var i=t(4848),r=t(8453);const s={},a="Migration from v1",d={},c=[];function m(e){const n={admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"migration-from-v1",children:"Migration from v1"})}),"\n",(0,i.jsx)(n.admonition,{type:"danger",children:(0,i.jsx)(n.p,{children:"Improper migration may cause your workload to re-consume messages from offset 0 - essentially re-processing all messages."})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["KP v1 adds ",(0,i.jsx)(n.code,{children:"-kp"})," as suffix to the group name so if you are using the same name you will be required to add ",(0,i.jsx)(n.code,{children:"-kp"})," back"]})}),"\n",(0,i.jsx)(n.p,{children:"The name of the consumer group must remain unchanged, which is the most crucial point to remember. To prevent any problems, be sure to copy the consumer group name from an admin UI."}),"\n",(0,i.jsx)(n.p,{children:"KP v1 was tagging the consumer group that the user passed with the prefix \"-kp.\" On version 2, we stopped doing that. Please purposefully pass the customer name with the '-kp' suffix added if that is something you have."}),"\n",(0,i.jsx)(n.p,{children:"To avoid any misunderstanding, KP v2 makes no changes to the values you supply. The settings can then be easily copied from the UI and pasted into your editor."}),"\n",(0,i.jsx)(n.p,{children:"The same is true for the deadletter and retry topics."}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"It's recommended to use a staging environment to test the migration in advance before deploying it on production. Also, it is recommended to communicate with your team and stakeholders about the migration, and if possible, schedule it during a maintenance window to minimize the impact on the end-users."})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var o=t(6540);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);